# æ—¦ç¯®å­åç«¯

## åŠŸèƒ½ç‰¹æ€§

- **ç”¨æˆ·ç³»ç»Ÿ**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- **è¯¾ç¨‹ç®¡ç†**: è¯¾ç¨‹ç›®å½•ã€å¼€è¯¾å®ä¾‹ã€é€‰è¯¾ç®¡ç†
- **èµ„æºå…±äº«**: æ–‡ä»¶ä¸Šä¼ ã€é“¾æ¥åˆ†äº«ã€ç¬”è®°å‘å¸ƒ
- **è¯¾ç¨‹è¯„ä»·**: è¯¾ç¨‹è¯„åˆ†ã€è¯„ä»·è¯„è®ºã€åŒ¿åè¯„ä»·
- **é€šçŸ¥ç³»ç»Ÿ**: ç”¨æˆ·é€šçŸ¥ã€ç³»ç»Ÿå…¬å‘Š
- **å†…å®¹å®¡æ ¸**: ä¸¾æŠ¥ç®¡ç†ã€å®¡æ ¸é˜Ÿåˆ—
- **æ–‡ä»¶å­˜å‚¨**: å¤šå­˜å‚¨æä¾›å•†æ”¯æŒ

## ç³»ç»Ÿè¦æ±‚

- Node.js >= 16.0.0
- MySQL >= 8.0
- npm >= 8.0.0

## å®‰è£…ä¸é…ç½®

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd dlz-backend
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. ç¯å¢ƒé…ç½®
ä¿®æ”¹envä¸­çš„å†…å®¹
```
ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯ï¼š
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=dlz_backend
DB_USER=root
DB_PASSWORD=your_password

# JWTé…ç½®
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# é‚®ç®±é…ç½®
EMAIL_USER=your gmail address
EMAIL_PASS=your gmail password
```

### 4. æ•°æ®åº“åˆå§‹åŒ–
```bash
# åˆå§‹åŒ–æ•°æ®åº“ï¼ˆåˆ›å»ºç©ºæ•°æ®åº“ï¼‰
npm run init-db

# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run migrate
```

### 5. å¯åŠ¨æœåŠ¡
```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start
```

## æ•°æ®åº“è¡¨ç»“æ„

### æ ¸å¿ƒè¡¨
- **users**: ç”¨æˆ·ä¿¡æ¯è¡¨
- **courses**: è¯¾ç¨‹ç›®å½•è¡¨
- **course_offerings**: å¼€è¯¾å®ä¾‹è¡¨
- **enrollments**: é€‰è¯¾è®°å½•è¡¨

### èµ„æºç›¸å…³è¡¨
- **resources**: èµ„æºä¿¡æ¯è¡¨
- **resource_course_links**: èµ„æºè¯¾ç¨‹å…³è”è¡¨
- **resource_favorites**: èµ„æºæ”¶è—è¡¨
- **resource_stats**: èµ„æºç»Ÿè®¡è¡¨

### è¯„ä»·ç›¸å…³è¡¨
- **course_reviews**: è¯¾ç¨‹è¯„ä»·è¡¨
- **review_comments**: è¯„ä»·è¯„è®ºè¡¨

### é€šçŸ¥ç›¸å…³è¡¨
- **notifications**: ç”¨æˆ·é€šçŸ¥è¡¨
- **announcements**: ç³»ç»Ÿå…¬å‘Šè¡¨
- **user_announcement_reads**: å…¬å‘Šé˜…è¯»è®°å½•è¡¨

### ç®¡ç†ç›¸å…³è¡¨
- **reports**: ä¸¾æŠ¥è®°å½•è¡¨
- **moderation_queue**: å®¡æ ¸é˜Ÿåˆ—è¡¨
- **files**: æ–‡ä»¶å­˜å‚¨è¡¨

## ğŸ”§ APIæ¥å£

### å¥åº·æ£€æŸ¥
- `GET /health` - æœåŠ¡å¥åº·çŠ¶æ€
- `GET /db-test` - æ•°æ®åº“è¿æ¥æµ‹è¯•
- `GET /tables` - è·å–æ‰€æœ‰è¡¨ä¿¡æ¯

## é¡¹ç›®ç»“æ„

```
dlz-backend/
â”œâ”€â”€ config/                # é“¾æ¥æ•°æ®åº“
â”‚   â””â”€â”€ database.js        # æ•°æ®åº“é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”œâ”€â”€ Course.js
â”‚   â”‚   â”œâ”€â”€ Resource.js
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ migrations/        # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ config/            # sequelize CLIé…ç½®
â”‚   â””â”€â”€ app.js             # åº”ç”¨å…¥å£
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ package.json
â”œâ”€â”€ .sequelizerc
â””â”€â”€ README.md
```
